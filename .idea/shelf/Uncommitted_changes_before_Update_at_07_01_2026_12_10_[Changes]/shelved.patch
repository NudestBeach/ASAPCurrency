Index: src/test/java/establishcurency/EstablishCurrencyTests.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package establishcurency;\r\nimport Group.SharkGroupDocument;\r\nimport currency.api.SharkCurrencyComponent;\r\nimport currency.api.SharkCurrencyComponentFactory;\r\nimport currency.classes.Currency;\r\nimport currency.classes.LocalCurrency;\r\nimport exepections.ASAPCurrencyException;\r\nimport net.sharksystem.SharkException;\r\nimport net.sharksystem.SharkPeerFS;\r\nimport net.sharksystem.SharkTestPeerFS;\r\nimport net.sharksystem.asap.ASAPException;\r\nimport net.sharksystem.asap.ASAPPeerFS;\r\nimport net.sharksystem.asap.crypto.ASAPCryptoAlgorithms;\r\nimport net.sharksystem.fs.FSUtils;\r\nimport net.sharksystem.pki.SharkPKIComponent;\r\nimport net.sharksystem.pki.SharkPKIComponentFactory;\r\nimport net.sharksystem.testhelper.SharkPKITesthelper;\r\nimport net.sharksystem.utils.testsupport.TestConstants;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport testhelpers.SharkCurrencyComponentImpl;\r\n\r\nimport java.io.IOException;\r\nimport java.util.*;\r\n\r\nimport static net.sharksystem.utils.testsupport.TestConstants.*;\r\n\r\npublic class EstablishCurrencyTests {\r\n\r\n    private String TEST_FOLDER;\r\n    private final CharSequence EXAMPLE_APP_FORMAT = \"shark/x-establishCurrencyExample\";\r\n    static final CharSequence FORMAT = \"TestFormat\";\r\n\r\n    SharkTestPeerFS aliceSharkPeer, bobSharkPeer;\r\n    SharkPKIComponentImpl aliceComponent, bobComponent;\r\n\r\n    // Set-Up a Folder within out project to save testing data\r\n    @BeforeEach\r\n    public void init() {\r\n        // get current user dir\r\n        String currentDir = System.getProperty(\"user.dir\");\r\n        TEST_FOLDER = currentDir + \"/ASAPCurrencyTestFolder\";\r\n        // delete test dir if already exists\r\n        FSUtils.removeFolder(TEST_FOLDER);\r\n    }\r\n\r\n    private void setUpAndStartAliceAndBob() throws SharkException, InterruptedException {\r\n        ////////////////////////////////////////// ALICE /////////////////////////////////////////////////////////\r\n        /* it is a test - we use the test peer implementation\r\n         only use SharkPeer interface in your application and create a SharkPeerFS instance\r\n         That's for testing only\r\n         */\r\n        SharkPKITesthelper.incrementTestNumber();\r\n        CharSequence folderName = SharkPKITesthelper.getPKITestFolder(ROOT_DIRECTORY);\r\n        System.out.println(\"folderName == \" + folderName);\r\n\r\n        ///////// Alice\r\n        aliceSharkPeer = SharkPKITesthelper.setupSharkPeerDoNotStart(ALICE_NAME, folderName);\r\n        aliceComponent =\r\n                (SharkPKIComponentImpl) SharkPKITesthelper.setupPKIComponentPeerNotStarted(aliceSharkPeer, ALICE_ID);\r\n        aliceSharkPeer.start(ALICE_ID);\r\n\r\n        ////////////////////////////////////////// BOB ///////////////////////////////////////////////////////////\r\n        bobSharkPeer = SharkPKITesthelper.setupSharkPeerDoNotStart(BOB_NAME, folderName);\r\n        bobComponent = (SharkPKIComponentImpl)\r\n                SharkPKITesthelper.setupPKIComponentPeerNotStarted(bobSharkPeer, BOB_ID);\r\n        bobSharkPeer.start(BOB_ID);\r\n\r\n        Thread.sleep(200);\r\n    }\r\n\r\n    @Test\r\n    public void aliceCreatesAGroupWithLocalCurrency()\r\n            throws SharkException, ASAPException, ASAPCurrencyException, IOException {\r\n\r\n        // 0. Setting up Alice Peer\r\n        SharkPKITesthelper.incrementTestNumber();\r\n        CharSequence folderName = SharkPKITesthelper.getPKITestFolder(ROOT_DIRECTORY);\r\n        SharkTestPeerFS alice = SharkPKITesthelper.setupSharkPeerDoNotStart(ALICE_NAME, folderName);\r\n        SharkPKIComponent alicePKI = SharkPKITesthelper.setupPKIComponentPeerNotStarted(alice, ALICE_ID);\r\n        SharkCurrencyComponentFactory currencyFactory = new SharkCurrencyComponentFactory(alicePKI);\r\n        alice.addComponent(currencyFactory, SharkCurrencyComponent.class);\r\n        alice.start(ALICE_ID);\r\n\r\n        // 1. Alice arranges a new local Currency\r\n        CharSequence currencyName = \"AliceTaler\";\r\n        Currency dummyCurrency = new LocalCurrency(\r\n                false,                // global limit\r\n                new ArrayList(),                // centralized list (dummy)\r\n                currencyName.toString(),        // Name\r\n                \"A test Currency\"               // Spec\r\n        );\r\n\r\n        // 2. Alice creates a new Group using the created Currency\r\n        SharkCurrencyComponentImpl currencyComponent =\r\n                (SharkCurrencyComponentImpl) alice.getComponent(SharkCurrencyComponent.class);\r\n        currencyComponent.establishGroup(dummyCurrency, new ArrayList<CharSequence>(), false, true);\r\n        SharkGroupDocument testDoc = currencyComponent.getSharkGroupDocument(currencyName);\r\n        byte[] groupId = testDoc.getGroupId();\r\n        String realAliceID = alice.getASAPPeer().getPeerID().toString();\r\n        System.out.println(\"DEBUG: current Members:\" + testDoc.getCurrentMembers());\r\n        byte[] aliceSignature = testDoc.getCurrentMembers().get(realAliceID);\r\n        System.out.println(\"DEBUG (Test): Keystore Hash: \" + System.identityHashCode(alice.getASAPPeer().getASAPKeyStore()));\r\n\r\n        // 3. Checking results\r\n        boolean channelExists = alice.getASAPPeer()\r\n                .getASAPStorage(SharkCurrencyComponent.CURRENCY_FORMAT)\r\n                .channelExists(currencyName);\r\n        boolean verified = ASAPCryptoAlgorithms.verify(\r\n                groupId,\r\n                aliceSignature,\r\n                ALICE_ID,\r\n                ((SharkPKIComponent) alice.getComponent(SharkPKIComponent.class)).getASAPKeyStore());\r\n        Assertions\r\n                .assertEquals(ALICE_NAME,testDoc.getGroupCreator());\r\n        Assertions\r\n                .assertTrue(channelExists, \"Channel does not exist\");\r\n        Assertions\r\n                .assertTrue(verified, \"The Signature of Alice could not have been verified\");\r\n        Assertions\r\n                .assertEquals(Collections.singletonMap(ALICE_NAME, aliceSignature),testDoc.getCurrentMembers());\r\n\r\n    }\r\n\r\n}\r\n
===================================================================
diff --git a/src/test/java/establishcurency/EstablishCurrencyTests.java b/src/test/java/establishcurency/EstablishCurrencyTests.java
--- a/src/test/java/establishcurency/EstablishCurrencyTests.java	(revision a9f3bcf54c026c09a99b61eed1177d5a644f64da)
+++ b/src/test/java/establishcurency/EstablishCurrencyTests.java	(date 1767554465928)
@@ -113,13 +113,13 @@
                 ALICE_ID,
                 ((SharkPKIComponent) alice.getComponent(SharkPKIComponent.class)).getASAPKeyStore());
         Assertions
-                .assertEquals(ALICE_NAME,testDoc.getGroupCreator());
+                .assertEquals(ALICE_ID,testDoc.getGroupCreator());
         Assertions
                 .assertTrue(channelExists, "Channel does not exist");
         Assertions
                 .assertTrue(verified, "The Signature of Alice could not have been verified");
         Assertions
-                .assertEquals(Collections.singletonMap(ALICE_NAME, aliceSignature),testDoc.getCurrentMembers());
+                .assertEquals(Collections.singletonMap(ALICE_ID, aliceSignature),testDoc.getCurrentMembers());
 
     }
 
